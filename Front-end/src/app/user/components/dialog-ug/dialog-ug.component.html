<h1 mat-dialog-title>Add Education</h1>
<div>
  <form [formGroup]="dialogUGForm">
    <mat-form-field appearance="outline">
      <mat-label for="education">Education</mat-label>
      <input
        matInput
        type="text"
        id="education"
        name="education"
        formControlName="education"
        readonly="true"
      />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label for="education">College</mat-label>
      <input
        matInput
        type="text"
        id="School"
        name="School"
        formControlName="School"
        style="text-transform: capitalize"
      />
      <mat-error
        *ngIf="dialogUGForm.get('School')?.errors?.['required'] && dialogUGForm.get('School')?.pristine || dialogUGForm.get('School')?.value.length==0"
        >College name is required</mat-error
      >

      <mat-error
        *ngIf="dialogUGForm.get('School')?.errors?.['characterValidator'] && dialogUGForm.get('School')?.dirty && dialogUGForm.get('School')?.value.length>0"
        >Digits and special characters are not allowed</mat-error
      >
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label for="course">Degree</mat-label>
      <input
        matInput
        type="text"
        id="course"
        name="course"
        formControlName="course"
        style="text-transform: capitalize"
      />
      <mat-error
        *ngIf="dialogUGForm.get('course')?.errors?.['required'] && dialogUGForm.get('course')?.pristine || dialogUGForm.get('course')?.value.length==0"
        >Degree is required</mat-error
      >

      <mat-error
        *ngIf="dialogUGForm.get('course')?.errors?.['characterValidator'] && dialogUGForm.get('course')?.dirty && dialogUGForm.get('course')?.value.length>0"
        >Digits and special characters are not allowed</mat-error
      >
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label for="specialization">Specialization</mat-label>
      <input
        matInput
        type="text"
        id="specialization"
        name="specialization"
        formControlName="specialization"
        style="text-transform: capitalize"
      />
      <mat-error
        *ngIf="dialogUGForm.get('specialization')?.errors?.['required'] && dialogUGForm.get('specialization')?.pristine || dialogUGForm.get('specialization')?.value.length==0"
        >Specialization is required</mat-error
      >

      <mat-error
        *ngIf="dialogUGForm.get('specialization')?.errors?.['characterValidator'] && dialogUGForm.get('specialization')?.dirty && dialogUGForm.get('specialization')?.value.length>0"
        >Digits and special characters are not allowed</mat-error
      >
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label for="university">University</mat-label>
      <input
        matInput
        type="text"
        id="board"
        name="board"
        formControlName="board"
        style="text-transform: capitalize"
      />
      <mat-error
        *ngIf="dialogUGForm.get('board')?.errors?.['required'] && dialogUGForm.get('board')?.pristine || dialogUGForm.get('board')?.value.length==0"
        >University is required</mat-error
      >

      <mat-error
        *ngIf="dialogUGForm.get('board')?.errors?.['characterValidator'] && dialogUGForm.get('board')?.dirty && dialogUGForm.get('board')?.value.length>0"
        >Digits and special characters are not allowed</mat-error
      >
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label for="percentage">Percentage/CGPA</mat-label>
      <input
        matInput
        type="text"
        id="percentage"
        name="percentage"
        formControlName="percentage"
        maxlength="5"
      />
      <mat-error
        *ngIf="dialogUGForm.get('percentage')?.errors?.['required'] && dialogUGForm.get('percentage')?.pristine || dialogUGForm.get('percentage')?.value.length==0"
        >Percentage is required</mat-error
      >

      <mat-error
        *ngIf="dialogUGForm.get('percentage')?.errors?.['percentageValidator'] && dialogUGForm.get('percentage')?.dirty && dialogUGForm.get('percentage')?.value.length>0"
        >Enter a valid percentage/CGPA</mat-error
      >
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label for="startDate">Start Date</mat-label>
      <input
        matInput
        [matDatepicker]="picker1"
        id="startDate"
        name="startDate"
        formControlName="startDate"
        readonly
        onkeydown="return false"
        onclick="return false"
        (dateChange)="dateValidators()"
      />
      <mat-error
        *ngIf="
          this.dialogUGForm.get('startDate')?.invalid &&
          this.dialogUGForm.get('startDate')?.touched
        "
        >Please select start date</mat-error
      >
      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
      <mat-datepicker #picker1></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label for="endDate">End Date</mat-label>
      <input
        matInput
        [matDatepicker]="picker2"
        id="endDate"
        name="endDate"
        formControlName="endDate"
        readonly
        onkeydown="return false"
        onclick="return false"
        (dateChange)="dateValidators()"
      />
      <mat-hint *ngIf="!this.dateValidator"
        >End date must be greater than start date</mat-hint
      >
      <mat-error
        *ngIf="dialogUGForm.get('endDate')?.errors?.['required'] && dialogUGForm.get('endDate')?.pristine || dialogUGForm.get('endDate')?.value.length==0"
        >Please select end date</mat-error
      >

      <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
      <mat-datepicker #picker2></mat-datepicker>
    </mat-form-field>

    <div class="uploadContainer">
      <span class="type" style="padding-right: 0.5rem">Upload Marksheet</span>
      <label for="marksheet"><mat-icon>file_upload</mat-icon></label>
      <label class="file-upload" for="marksheet">{{
        dialogUGForm.value.marksheet
      }}</label>
      <input
        style="display: none"
        type="file"
        name="marksheet"
        id="marksheet"
        (change)="fileChange($event, 'ms')"
        formControlName="marksheet"
      />
      <mat-error
        *ngIf="dialogUGForm.get('marksheet')?.errors?.['required'] && dialogUGForm.get('marksheet')?.touched"
        >Please upload a marksheet</mat-error
      >
      <mat-error
        *ngIf="
          !dialogUGForm.get('marksheet')?.errors?.required &&
          dialogUGForm.get('marksheet')?.errors?.pattern
        "
      >
        marksheet must be in pdf formate
      </mat-error>
    </div>
    <div class="uploadContainer">
      <span class="type" style="padding-right: 0.5rem">Upload provisionalCertificate</span>
      <label for="provisionalCertificate"><mat-icon>file_upload</mat-icon></label>
      <label class="file-upload" for="provisionalCertificate">{{
        dialogUGForm.value.provisionalCertificate==null?'No file uploaded':dialogUGForm.value.provisionalCertificate
      }}</label>
      <input
      style="display: none"
      type="file"
      name="provisionalCertificate"
      id="provisionalCertificate"
      (change)="fileChange($event, 'pc')"
        formControlName="provisionalCertificate"
      />

      <mat-error
        *ngIf="dialogUGForm.get('provisionalCertificate')?.errors?.pattern"
      >
        Provisional certificate must be in pdf formate
      </mat-error>
    </div>
    <div class="uploadContainer">
      <span class="type" style="padding-right: 0.5rem">Upload convocationCertificate</span>
      <label for="convocationCertificate"><mat-icon>file_upload</mat-icon></label>
      <label class="file-upload" for="convocationCertificate">{{
        dialogUGForm.value.convocationCertificate==null?'No file uploaded':dialogUGForm.value.convocationCertificate
      }}</label>
      <input
      style="display: none"
      type="file"
      name="convocationCertificate"
      id="convocationCertificate"
      (change)="fileChange($event, 'cc')"
        formControlName="convocationCertificate"
      />
      <mat-error
        *ngIf="dialogUGForm.get('convocationCertificate')?.errors?.pattern"
      >
        Convocation Certificate must be in pdf formate
      </mat-error>
    </div>
  </form>
</div>

<div mat-dialog-action [align]="'end'" class="btn-grp">
  <button
    mat-button
    class="btn-primary"
    (click)="addUGForm()"
    [disabled]="!dialogUGForm.valid"
  >
    {{ actionBtn }}
  </button>
  <button mat-button class="btn-primary" mat-dialog-close="true">Close</button>
</div>
